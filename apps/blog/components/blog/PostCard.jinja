{#def post #}
{#import "../ui/Tag.jinja" as Tag #}
{#import "../ui/Card.jinja" as Card #}

<Card href={{ "/posts/" ~ post.slug }}>
    <article>
        <div class="flex items-center justify-between mb-3 text-xs text-gray-500">
            <time datetime={{ post.published_at.strftime('%Y-%m-%d') if post.published_at else '' }}>
                {{ post.published_at.strftime('%d %b %Y') if post.published_at else '' }}
            </time>
            <div class="flex items-center gap-3">
                {% if post.reading_time %}
                <span>{{ post.reading_time }} min read</span>
                {% endif %}
                {% if post.category %}
                <span class="text-gray-600">{{ post.category }}</span>
                {% endif %}
            </div>
        </div>
        <h2 class="text-lg font-medium text-white mb-2 group-hover:text-gray-300 transition-colors">
            {{ post.title }}
        </h2>
        {% if post.description %}
        <p class="text-gray-400 text-sm line-clamp-2 mb-3">{{ post.description }}</p>
        {% endif %}
        {% if post.tags %}
        <div class="flex flex-wrap gap-2">
            {% for tag in post.tags[:3] %}
            <Tag text={{ tag }} />
            {% endfor %}
        </div>
        {% endif %}
    </article>
</Card>
