{#def message="", tone="success" #}

{% set tones = {
  "success": "border-emerald-200 bg-emerald-50 text-emerald-800 dark:border-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-200",
  "danger": "border-rose-200 bg-rose-50 text-rose-800 dark:border-rose-800 dark:bg-rose-900/30 dark:text-rose-200",
  "neutral": "border-zinc-200 bg-white text-zinc-800 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-200"
} %}

<div id="toast-portal" hx-swap-oob="true">
  <div
    x-data="{ show: true }"
    x-init="setTimeout(() => show = false, 3000)"
    x-show="show"
    x-transition:enter="transition ease-out duration-200"
    x-transition:enter-start="opacity-0 translate-y-2"
    x-transition:enter-end="opacity-100 translate-y-0"
    x-transition:leave="transition ease-in duration-150"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0 translate-y-2"
    class="fixed right-4 top-4 z-50"
  >
    <div class="rounded-lg border px-4 py-2.5 text-sm shadow-md {{ tones.get(tone, tones['success']) }}">
      {{ message }}
    </div>
  </div>
</div>
