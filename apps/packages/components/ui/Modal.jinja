{#def title="", open=true #}

<div
  x-data="{ open: {{ 'true' if open else 'false' }} }"
  x-effect="if (!open) $el.remove()"
  x-on:keydown.escape.window="open = false"
  x-cloak
  {{ attrs.render() }}
>
  <div
    class="fixed inset-0 z-50 flex items-center justify-center p-4"
    x-show="open"
    x-transition.opacity
    role="dialog"
    aria-modal="true"
    aria-labelledby="modal-title"
  >
    <div class="absolute inset-0 bg-zinc-950/60" @click="open = false"></div>

    <div
      class="relative w-full max-w-lg rounded-xl border border-zinc-200 bg-white shadow-xl dark:border-zinc-800 dark:bg-zinc-950"
      x-show="open"
      x-transition
    >
      {% if title %}
        <header class="border-b border-zinc-200 px-4 py-3 dark:border-zinc-800">
          <div class="flex items-center justify-between">
            <h3 id="modal-title" class="text-base font-semibold">{{ title }}</h3>
            <button class="rounded-md p-2 hover:bg-zinc-100 dark:hover:bg-zinc-900" @click="open = false" aria-label="Fechar">
              âœ•
            </button>
          </div>
        </header>
      {% endif %}

      <section class="px-4 py-4">
        <div class="space-y-3">
          {{ content }}
        </div>
      </section>

      <footer class="border-t border-zinc-200 px-4 py-4 dark:border-zinc-800">
        <div class="flex justify-end gap-3">
          {% slot actions %}{% endslot %}
        </div>
      </footer>
    </div>
  </div>
</div>
