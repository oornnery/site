{#def
  title="Service health",
  brand="oornnery",
  logs_url="/healthz/logs",
  request=None
#}

{#import "@ui/layouts/site.jinja" as Site #}
{#import "@ui/ui/card.jinja" as Card #}

<Site title={{ title }} brand={{ brand }}>
  <Card title="Health checks" description="Live status from /api/healthz">
    <ul
      id="healthz-log"
      class="ui-log"
      hx-get={{ logs_url }}
      hx-trigger="load, every 2s"
      hx-swap="afterbegin"
    >
      <li class="ui-log-empty ui-muted">Waiting for first check...</li>
    </ul>
  </Card>
</Site>
